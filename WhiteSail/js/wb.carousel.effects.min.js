/*
 * jQuery Carousel Effects Plugin for WYSIWYG Web Builder v9.x
 * Copyright Pablo Software solutions 2013
 * http://www.wysiwygwebbuilder.com/
 */
(function(a){a.fn.carouseleffects=function(c){return this.each(function(){a.carouseleffects(this,c)})};a.carouseleffects=function(c,b){var d={mode:"none",duration:2E3,easing:"linear",direction:"",delay:2E3,type:"sequence",pagination:!0,pagination_img_default:"",pagination_img_active:"",current:1,last:0};if(b&&"string"==typeof b)"next"==b?(a.carouseleffects.killTimer(c),a.carouseleffects.nextFrame(c)):"prev"==b?(a.carouseleffects.killTimer(c),a.carouseleffects.prevFrame(c)):-1!=b.indexOf("goto")&&
(d=b.slice(5),a.carouseleffects.gotoFrame(c,d));else if(b&&(state=a.extend(d,b)),0==state.delay&&(state.current-=1),a.carouseleffects.init(c,state),b.pagination){$pagination=a('<div class="pagination" />');for(var d=a(c).find(".frame").get(),e=0;e<d.length;e++){var f=a("<a />").attr("id",String(e+1)).css("cursor","pointer");a("<img />").attr({id:"page_"+String(e+1),src:b.pagination_img_default}).appendTo(f);f.click(function(){a.carouseleffects.gotoFrame(c,a(this).attr("id"))});f.appendTo($pagination)}$pagination.appendTo(a(c).parent());
a.carouseleffects.updateNavigation(c,0,state.last)}};a.carouseleffects.init=function(c,b){b.frames=a(c).find(".frame").get();a.each(b.frames,function(c){a(b.frames[c]).css("zIndex",b.frames.length-c).css("position","absolute").css("top","0").css("left","0")});b.random=!1;b.reverse=!1;"random"==b.mode&&(b.random=!0);a(c).data("state",b);if(0!=b.start){for(var d=0;d<b.frames.length;d++)a(b.frames[d]).css("display","none");b.current=b.start;a(b.frames[b.current]).css("zIndex","1").show();0==b.delay?
b.last=b.current:a.carouseleffects.next(b)}0!=b.delay&&(d=setTimeout(function(){a.carouseleffects.frameTransition(c)},b.delay),a(c).data("timerId",d))};a.carouseleffects.killTimer=function(c){c=a(c).data("timerId");clearInterval(c)};a.carouseleffects.updateNavigation=function(c,b,d){var e=a(c).data("state");a(c).parent().find(".pagination img:eq("+b+")").attr("src",e.pagination_img_default);a(c).parent().find(".pagination img:eq("+d+")").attr("src",e.pagination_img_active)};a.carouseleffects.gotoFrame=
function(c,b){a.carouseleffects.killTimer(c);var d=a(c).data("state");0!=d.delay&&(d.current--,0>d.current&&(d.current=d.frames.length-1));b-1!=d.current&&(0==d.delay&&(d.last=d.current),d.current=Math.min(b-1,d.frames.length-1),d.delay=0,d.pagination&&a.carouseleffects.updateNavigation(c,d.last,d.current),a.carouseleffects.frameTransition(c),d.last=d.current)};a.carouseleffects.nextFrame=function(c){state=a(c).data("state");0!=state.delay&&(state.current=state.last);state.delay=0;a.carouseleffects.next(state);
a.carouseleffects.frameTransition(c)};a.carouseleffects.prevFrame=function(c){state=a(c).data("state");0!=state.delay&&(state.current=state.last);state.delay=0;0<=state.current-1?(state.current-=1,state.last=state.current+1):(state.current=state.frames.length-1,state.last=0);a.carouseleffects.frameTransition(c)};a.carouseleffects.next=function(a){if("sequence"==a.type)a.current+1<a.frames.length?(a.current+=1,a.last=a.current-1):(a.current=0,a.last=a.frames.length-1);else if("random"==a.type)for(a.last=
a.current;a.current==a.last;)a.current=Math.floor(Math.random()*a.frames.length)};a.carouseleffects.frameTransition=function(c){state=a(c).data("state");if(state.random){var b="fade slide puff blind drop clip shuffle blast blocks rain swirl squares bars".split(" "),d=["left","up","down","right"],e=["horizontal","vertical"];state.mode=b[Math.floor(Math.random()*b.length)];if("slide"==state.mode||"drop"==state.mode)state.direction=d[Math.floor(Math.random()*d.length)];if("clip"==state.mode||"blinds"==
state.mode||"bars"==state.mode)state.direction=e[Math.floor(Math.random()*e.length)]}for(b=0;b<state.frames.length;b++)a(state.frames[b]).css("display","none");a(state.frames[state.last]).css("display","block").css("zIndex","0");state.pagination&&a.carouseleffects.updateNavigation(c,state.last,state.current);"none"==state.mode?(a(state.frames[state.current]).css("zIndex","1").show(),a(state.frames[state.last]).css("display","none")):"fade"==state.mode?(a(state.frames[state.current]).css("zIndex",
"1").fadeIn(state.duration),a(state.frames[state.last]).fadeOut(state.duration)):"slide"==state.mode?(a(state.frames[state.current]).css("zIndex","1").show("slide",{direction:state.direction,easing:state.easing},state.duration),a(state.frames[state.last]).hide("slide",{direction:state.direction,easing:state.easing},state.duration)):"puff"==state.mode?(a(state.frames[state.current]).css("zIndex","1").show("puff",{easing:state.easing},state.duration),a(state.frames[state.last]).hide("puff",{easing:state.easing},
state.duration)):"blind"==state.mode?(a(state.frames[state.current]).css("zIndex","1").show("blind",{direction:state.direction,easing:state.easing},state.duration),a(state.frames[state.last]).hide("blind",{direction:state.direction,easing:state.easing},state.duration)):"clip"==state.mode?(a(state.frames[state.current]).css("zIndex","1").show("clip",{direction:state.direction,easing:state.easing},state.duration),a(state.frames[state.last]).hide("clip",{direction:state.direction,easing:state.easing},
state.duration)):"drop"==state.mode?(a(state.frames[state.current]).css("zIndex","1").show("drop",{direction:state.direction,easing:state.easing},state.duration),a(state.frames[state.last]).hide("drop",{direction:state.direction,easing:state.easing},state.duration)):"fold"==state.mode?(a(state.frames[state.current]).css("zIndex","1").show("fold",{easing:state.easing},state.duration),a(state.frames[state.last]).hide("fold",{easing:state.easing},state.duration)):"rotate"==state.mode?(a(state.frames[state.last]).animate({rotate:180,
scale:10,opacity:"hide"},{duration:state.duration,easing:state.easing}),a(state.frames[state.current]).css("zIndex","1"),a(state.frames[state.current]).css({scale:10,rotate:-180}),a(state.frames[state.current]).animate({opacity:"show",rotate:0,scale:1},{duration:state.duration,easing:state.easing})):a(state.frames[state.current]).css("zIndex","1").show(state.mode,{},state.duration);0!=state.delay&&(a.carouseleffects.next(state),b=setTimeout(function(){a.carouseleffects.frameTransition(c)},state.delay),
a(c).data("timerId",b))}})(jQuery);