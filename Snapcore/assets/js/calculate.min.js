!function(){function e(e){this.el=document.querySelector(e),this.init()}[document.getElementById("volume1"),document.getElementById("volume2")].forEach(function(e){new function(e){this.rangeSlider=e,this.rangeSliderInput=this.rangeSlider.querySelector(".range__slider__input"),e.addEventListener("input",function(){this.updateSliderOutput(),this.updateSliderLevel()}.bind(this),!1),this.level=function(){return this.rangeSliderInput.value/this.rangeSliderInput.max*100},this.levelString=function(){return parseInt(this.level())},this.value=function(){var e=this.rangeSlider.querySelector(".range__slider__input.cash"),n=this.rangeSlider.querySelector(".range__slider__input.month");return e?(t.cashValue=e.value,"$ "+e.value):n?n.value<10?(t.month=n.value,"0"+n.value+" мес."):(t.month=n.value,n.value+" мес."):void 0},this.remaining=function(){return 99.5-this.level()},this.remainingString=function(){return parseInt(this.remaining())},this.updateSliderOutput=function(){var e=this.rangeSlider.querySelector(".range__slider__output"),t=this.rangeSlider.querySelector(".range__slider__remaining"),n=this.rangeSlider.querySelector(".range__slider__thumb");e.value=this.value(),e.style.left=this.levelString()+"%",n.style.left=this.levelString()+"%",t&&(t.style.width=this.remainingString()+"%")},this.updateSlider=function(e){this.rangeSlider.querySelector(".range__slider__input").value=e},this.updateSliderLevel=function(){this.rangeSlider.querySelector(".range__slider__level").style.width=this.levelString()+"%"}}(e)}),e.prototype={init:function(){this.maxChecked=5,this.calculated=!1,this.checkboxes=document.querySelectorAll('.check__item input[type="checkbox"]'),this.checked=function(){return document.querySelectorAll('.check__item input[type="checkbox"]:checked')},this.notChecked=function(){return document.querySelectorAll('.check__item input[type="checkbox"]:not(:checked)')},this.calculateChecked={},this.resultWrapper=document.querySelector(".result__value"),this.resultButton=document.querySelector(".calculate__button"),this.cashValue=5e4,this.month=6,this.usedCheckbox()},usedCheckbox:function(){var e=this;this.checkboxes.forEach(function(t){t.addEventListener("change",function(){var t=e.notChecked(),n=e.checked();n.length===e.maxChecked?(e.calculated=!1,t.forEach(function(e){e.disabled=!0}),e.resultButton.addEventListener("click",e.calculateInvest.bind(e)),e.calculateChecked=n):(console.log("then.checked().length ",e.checked().length),t.forEach(function(e){e.disabled=!1})),e.clear()})})},calculateInvest:function(){if(5===this.checked().length&&!1===this.calculated){var e=0;this.checked().forEach(function(t){var n=document.createElement("span");n.innerHTML=t.dataset.index,n.className="rate",e+=parseFloat(t.dataset.index);t.parentNode.appendChild(n)});var t=Math.round(e*this.cashValue/5/12*this.month).toFixed(2);if(t>0)this.resultWrapper.innerText="+ "+t+" ($)";else{this.resultWrapper.innerText="- "+t.toString().replace(/[-]/g,"")+" ($)"}this.calculated=!0,console.log("rate",e),console.log("cash",this.cashValue),console.log("month",this.month),console.log("this.calculateChecked.length",this.calculateChecked.length),console.log("this.checked.length",this.checked().length)}},clear:function(){var e=this;5===this.calculateChecked.length&&this.calculateChecked.forEach(function(t){t.addEventListener("change",function(){e.calculateChecked.forEach(function(e){e.parentNode.querySelector(".rate")&&e.parentNode.removeChild(e.parentNode.querySelector(".rate"))})})})}};var t=new e}();